{"version":3,"file":"js/26.eb739f5d.js","mappings":"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","sources":["webpack://biscuit-paradise/./src/methods/favorite.js","webpack://biscuit-paradise/./src/views/user/ProductList.vue","webpack://biscuit-paradise/./src/views/user/ProductList.vue?e9c9"],"sourcesContent":["export default {\n  addToFavorite (favorite) {\n    const favoriteStr = JSON.stringify(favorite)\n    localStorage.setItem('favoriteList', favoriteStr)\n  },\n  getFavorite () {\n    return JSON.parse(localStorage.getItem('favoriteList'))\n  }\n}\n\n/*\n因為localstorage只能存放string字串，因此要使用json將array陣列轉為字串才可存入，而取得資料則須將記憶體的資料再度轉譯成array陣列。\n-陣列轉字串：JSON.stringify()\n-字串轉陣列 & JSON格式：JSON.parse()\n*/","<template>\n  <LoadingComp :active=\"isLoading\" />\n  <section class=\"container py-lg-5\">\n    <nav aria-label=\"breadcrumb\">\n      <ol class=\"breadcrumb\">\n        <li class=\"breadcrumb-item\"><router-link to=\"/user\" active-class=\"link-dark\">首頁</router-link></li>\n        <li class=\"breadcrumb-item\">產品列表</li>\n      </ol>\n    </nav>\n    <div class=\"productlist text-center px-4 py-5\">\n      <div class=\"text-white text-center p-3 cover d-inline-block\">\n        <h1 class=\"fw-bold my-3\">產品列表</h1>\n        <p class=\"mb-0\">「挑戰味覺極限，一口餅乾，一場美味革命。」</p>\n      </div>\n    </div>\n    <div class=\"row g-4 justify-content-around py-5\">\n      <div class=\"col-lg-2\">\n        <div class=\"text-center d-flex flex-column align-items-center\">\n          <button\n            type=\"button\"\n            class=\"btn btn-primary border-0 link-light shadow-sm fw-bold m-2 py-3 fixed-width-button\"\n            :class=\"{ active: category === item.value }\"\n            @click.prevent=\"category = item.value\"\n            v-for=\"item in categoryList\"\n            :key=\"item.value\"\n          >\n            {{ item.value }}\n          </button>\n        </div>\n      </div>\n\n      <div class=\"col-lg-9\">\n        <div class=\"row row-cols-lg-3 row-cols-sm-2 row-cols-1 g-4\">\n          <div class=\"col\" v-for=\"item in filterProducts\" :key=\"item.id\">\n            <div class=\"card h-100 border cardHover\">\n              <img\n                :src=\"item.imageUrl\"\n                class=\"card-img-top img-fluid\"\n                style=\"object-fit: cover; height: 200px; cursor: pointer\"\n                :alt=\"item.title\"\n                :title=\"item.title\"\n              />\n              <div class=\"card-body d-flex flex-column justify-content-between\">\n                <div>\n                  <div class=\"d-flex justify-content-between align-items-center\">\n                    <h5 class=\"card-title fw-bold text-primary mb-0\">\n                      {{ item.title }}\n                    </h5>\n                    <span class=\"badge bg-warning rounded-pill text-black\">\n                      {{ item.category }}\n                    </span>\n                  </div>\n\n                  <hr />\n\n                  <p class=\"card-text\">{{ item.description }}</p>\n                </div>\n                <div>\n                  <div class=\"text-end\">\n                    <p class=\"h5\" v-if=\"item.price === item.origin_price\">\n                      {{ $formatFilters.currency(item.origin_price) }} 元\n                    </p>\n                    <del class=\"h6\" v-if=\"item.price !== item.origin_price\">\n                      原價 {{ $formatFilters.currency(item.origin_price) }} 元\n                    </del>\n                    <p class=\"h5 text-danger\" v-if=\"item.price !== item.origin_price\">\n                      特價 {{ $formatFilters.currency(item.price) }} 元\n                    </p>\n                  </div>\n                  <div class=\"text-end position-relative\" style=\"z-index:3;\">\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-primary mx-2 rounded-circle fs-4 text-white border-0\"\n                      :class=\"{ active: favorite.includes(item.id) }\"\n                      style=\"width: 50px; height: 50px\"\n                      @click=\"toggleFavorite(item)\"\n                    >\n                      <i class=\"bi bi-suit-heart\"/>\n                    </button>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-primary align-self-end rounded-circle fs-4 text-white border-0\"\n                      style=\"width: 50px; height: 50px\"\n                      :disabled=\"status.loadingItem === item.id\"\n                      @click=\"addCart(item, item.id)\"\n                    >\n                      <i class=\"bi bi-cart3\"/>\n                    </button>\n                  </div>\n                </div>\n                <a href=\"#\" class=\"stretched-link\" @click.prevent=\"getProduct(item.id)\"></a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n\n  <p>abcdefg</p>\n\n</template>\n\n<style lang=\"scss\" scoped>\n\n.productlist {\n    background-image: url(\"../../assets/images/img/main.jpg\");\n    background-position: center;\n    height: 350px;\n    background-size: cover;\n}\n.cover {\n    background-image: linear-gradient(rgba(0,0,0,.3),rgba(0,0,0,.3));\n}\n.cardHover {\n  transition: transform .3s cubic-bezier(.155,1.105,.295,1.12),-webkit-transform .3s cubic-bezier(.155,1.105,.295,1.12);\n  cursor: pointer;\n  &:hover {\n    transform: scale(1.05);\n  }\n}\n.btn-primary:hover{\n  background-color: bisque;\n}\n\n.fixed-width-button {\n  width: 100%; /* 或者使用具體的寬度值，確保每個按鈕有相同的寬度 */\n}\n\n.active{\n  background-color:sandybrown;\n}\n.router-link-exact-active {\n  background-color: transparent !important;\n  font-weight: normal !important;\n  color: inherit !important;\n}\n</style>\n\n\n<script>\nimport favorite from '@/methods/favorite'\n\nexport default {\n  data () {\n    return {\n      products: [],\n      isLoading: false,\n      categoryList: [\n        { value: '全部' },\n        { value: '馬卡龍' },\n        { value: '造型餅乾' },\n        { value: '可頌' }\n      ],\n      category: '全部',\n      status: {\n        loadingItem: ''\n      },\n      favorite: favorite.getFavorite() || []\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getProducts () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\n      this.isLoading = true\n      this.$http.get(api).then((res) => {\n        if (res.data.success) {\n          this.products = res.data.products\n        }\n        this.isLoading = false\n      })\n    },\n    getProduct (id) {\n      this.$router.push(`/user/product/${id}`)\n    },\n\n    addCart (item, id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.isLoading = true\n      this.status.loadingItem = id\n      const cart = {\n        product_id: id,\n        qty: 1\n      }\n      this.$http.post(url, { data: cart }).then((res) => {\n        this.status.loadingItem = ''\n        this.emitter.emit('update-cart', id)\n        this.isLoading = false\n        this.$httpMessageState(res, `將\"${item.title}\"加入購物車`)\n      })\n    },\n    toggleFavorite (item) {\n      if (this.favorite.includes(item.id)) {\n        this.favorite.splice(this.favorite.indexOf(item.id), 1)\n        this.$httpMessageState(\n          {\n            data: {\n              success: true\n            }\n          },\n          `已將\"${item.title}\"移除我的最愛`\n        )\n      } else {\n        this.favorite.push(item.id)\n        this.$httpMessageState(\n          {\n            data: {\n              success: true\n            }\n          },\n          `已將\"${item.title}\"加入我的最愛`\n        )\n      }\n      favorite.addToFavorite(this.favorite)\n      this.emitter.emit('update-favorite', this.favorite)\n    }\n  },\n  computed: {\n    filterProducts () {\n      return this.products.filter((item) => {\n        if (this.category === '全部') {\n          return this.products\n        }\n        return item.category.match(this.category)\n      })\n    }\n  },\n  created () {\n    this.getProducts()\n  }\n}\n</script>\n","import { render } from \"./ProductList.vue?vue&type=template&id=54d93682&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductList.vue?vue&type=style&index=0&id=54d93682&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54d93682\"]])\n\nexport default __exports__"],"names":["addToFavorite","favorite","favoriteStr","JSON","stringify","localStorage","setItem","getFavorite","parse","getItem","class","_createElementVNode","key","style","_hoisted_27","_hoisted_30","_createElementBlock","_Fragment","_createVNode","_component_LoadingComp","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_renderList","categoryList","item","type","_normalizeClass","category","value","onClick","_withModifiers","$event","_hoisted_10","_hoisted_11","_hoisted_12","$options","filterProducts","id","_hoisted_13","src","imageUrl","alt","title","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_toDisplayString","_hoisted_18","_hoisted_19","_hoisted_20","description","_hoisted_21","price","origin_price","_hoisted_22","_ctx","$formatFilters","currency","_createCommentVNode","_hoisted_23","_hoisted_24","_hoisted_25","includes","toggleFavorite","_hoisted_28","_hoisted_26","disabled","status","loadingItem","addCart","_hoisted_31","_hoisted_29","href","getProduct","_hoisted_32","_hoisted_33","data","products","inject","methods","getProducts","api","this","$http","get","then","res","success","$router","push","url","cart","product_id","qty","post","emitter","emit","$httpMessageState","splice","indexOf","computed","filter","match","created","__exports__","render"],"sourceRoot":""}