{"version":3,"file":"js/677.082267a4.js","mappings":"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","sources":["webpack://biscuit-paradise/./src/views/user/UserCart.vue","webpack://biscuit-paradise/./src/views/user/UserCart.vue?c316"],"sourcesContent":["<template v-if=\"cart.carts\">\n  <LoadingComp :active=\"isLoading\" />\n  <div class=\"container py-lg-5\">\n    <nav aria-label=\"breadcrumb\">\n      <ol class=\"breadcrumb\">\n        <li class=\"breadcrumb-item\"><router-link to=\"/user\">首頁</router-link></li>\n        <li class=\"breadcrumb-item\">購物車</li>\n      </ol>\n    </nav>\n    <h2><i class=\"bi bi-cart3 fs-3\"/> 購物車</h2>\n    <hr />\n    <div class=\"text-center pb-5\" :class=\"{ 'd-none': cart.total !== 0 }\">\n      <i class=\"bi bi-cart4\" style=\"font-size: 150px\"/>\n      <p class=\"fs-2\">購物車是空的，來去逛逛吧!</p>\n      <button type=\"button\" class=\"btn btn-outline-primary shadow-sm\" @click=\"$router.push('/user/productList')\">\n        看看更多餅乾\n      </button>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-lg-8\">\n        <div\n          class=\"border border-primary d-flex flex-column flex-md-row align-items-center p-3 mb-3 text-center\"\n          v-for=\"item in cart.carts\"\n          :key=\"item.id\"\n        >\n          <img\n            :src=\"item.product.imageUrl\"\n            class=\"productImg\"\n            :alt=\"item.product.title\"\n            @click=\"getProduct(item.product.id)\"\n            style=\"cursor:pointer;\"\n          />\n          <p class=\"h6 my-3 my-md-0\" style=\"width: 30%\">\n            {{ item.product.title }}\n          </p>\n          <div class=\"input-group\" style=\"width: 150px\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-dark\"\n              @click=\"updateCart(item, item.qty - 1)\"\n              :disabled=\"item.qty == 1\"\n            >\n              <i class=\"bi bi-dash\" />\n            </button>\n            <input\n              type=\"text\"\n              min=\"1\"\n              v-model.number=\"item.qty\"\n              class=\"form-control form-control-sm text-center border-dark\"\n              readonly\n            />\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-dark\"\n              @click=\"updateCart(item, item.qty + 1)\"\n            >\n              <i class=\"bi bi-plus\" />\n            </button>\n          </div>\n          <p class=\"my-3 my-md-0\" style=\"width: 20%\">\n            NT{{ $formatFilters.currency(item.final_total) }}\n          </p>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary btnCircle mx-2 rounded-circle fs-4 text-white\"\n            @click=\"removeCartItem(item, item.id)\"\n          >\n            <i class=\"bi bi-trash\"/>\n          </button>\n        </div>\n      </div>\n      <div class=\"col-lg-4 pb-5\" :class=\"{ 'd-none': cart.total === 0 }\">\n        <div class=\"border border-primary p-3\">\n          <div class=\"d-flex justify-content-between\">\n            <p>商品共計:</p>\n            <p>{{ $formatFilters.currency(cart.total) }}</p>\n          </div>\n          <div class=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              class=\"form-control lh-lg border-dark\"\n              v-model=\"coupon_code\"\n              placeholder=\"輸入優惠碼\"\n            />\n            <button type=\"button\" class=\"btn btn-dark\" @click=\"addCouponCode\">\n              套用\n            </button>\n          </div>\n          <div\n            class=\"d-flex justify-content-between\"\n            v-if=\"cart.final_total === cart.total\"\n          >\n            <p>合計:</p>\n            <p>{{ $formatFilters.currency(cart.final_total) }}</p>\n          </div>\n          <p class=\"text-success\" v-if=\"cart.final_total !== cart.total\">\n            已套用優惠券\n          </p>\n          <div\n            class=\"d-flex justify-content-between text-success\"\n            v-if=\"cart.final_total !== cart.total\"\n          >\n            <p>折扣價：</p>\n            <p>{{ $formatFilters.currency(cart.final_total) }}</p>\n          </div>\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-primary shadow-sm w-100\"\n            @click=\"this.$router.push('/user/checkout')\"\n            :class=\"{ disabled: cart.total === 0 }\"\n          >\n            結帳\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      cart: {},\n      coupon_code: '',\n      status: {\n        loadingItem: ''\n      },\n      isLoading: false\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getCart () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.isLoading = true\n      this.$http.get(url).then((res) => {\n        this.cart = res.data.data\n        this.isLoading = false\n      })\n    },\n    updateCart (item, qty = 1) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\n      this.isLoading = true\n      this.status.loadingItem = item.id\n      const cart = {\n        product_id: item.product_id,\n        qty\n      }\n      this.$http.put(url, { data: cart }).then(() => {\n        this.status.loadingItem = ''\n        this.getCart()\n      })\n    },\n    removeCartItem (item, id) {\n      this.status.loadingItem = id\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\n      this.isLoading = true\n      this.$http.delete(url).then((res) => {\n        this.$httpMessageState(res, `將\"${item.product.title}\"移除購物車`)\n        this.status.loadingItem = ''\n        this.getCart()\n        this.emitter.emit('update-cart', id)\n      })\n    },\n    addCouponCode () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\n      const coupon = {\n        code: this.coupon_code\n      }\n      this.isLoading = true\n      this.$http.post(url, { data: coupon }).then((res) => {\n        this.$httpMessageState(res, '加入優惠券')\n        this.getCart()\n        this.isLoading = false\n      })\n    },\n    getProduct (id) {\n      this.$router.push(`/user/product/${id}`)\n    }\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.productImg {\n    width: 150px;\n    height: 100px;\n    -o-object-fit: cover;\n    object-fit: cover;\n}\n.btnCircle {\n  &:hover {\n    color: white;\n    background-color: #f3acc2;\n    border-color: #f3acc2;\n  }\n}\n</style>\n","import { render } from \"./UserCart.vue?vue&type=template&id=21c9eb12&scoped=true\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=21c9eb12&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-21c9eb12\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createTextVNode","style","_hoisted_16","_hoisted_20","_hoisted_24","key","_createElementBlock","_Fragment","_createVNode","_component_LoadingComp","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_router_link","to","default","_withCtx","_","_hoisted_5","_hoisted_6","_hoisted_7","_normalizeClass","cart","total","_hoisted_8","_hoisted_9","type","onClick","_cache","$event","_ctx","$router","push","_hoisted_10","_hoisted_11","_renderList","carts","item","id","src","product","imageUrl","alt","title","$options","getProduct","_hoisted_12","_hoisted_13","_toDisplayString","_hoisted_14","updateCart","qty","disabled","_hoisted_17","_hoisted_15","min","readonly","_hoisted_18","number","_hoisted_21","_hoisted_19","_hoisted_22","$formatFilters","currency","final_total","removeCartItem","_hoisted_25","_hoisted_23","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","coupon_code","placeholder","args","addCouponCode","_hoisted_30","_hoisted_31","_createCommentVNode","_hoisted_32","_hoisted_33","_hoisted_34","data","status","loadingItem","inject","methods","getCart","url","this","$http","get","then","res","product_id","put","delete","$httpMessageState","emitter","emit","coupon","code","post","created","__exports__","render"],"sourceRoot":""}