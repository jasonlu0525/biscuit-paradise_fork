"use strict";(self["webpackChunkbiscuit_paradise"]=self["webpackChunkbiscuit_paradise"]||[]).push([[26],{4226:function(t,e){e.Z={addToFavorite(t){const e=JSON.stringify(t);localStorage.setItem("favoriteList",e)},getFavorite(){return JSON.parse(localStorage.getItem("favoriteList"))}}},7026:function(t,e,i){i.r(e),i.d(e,{default:function(){return W}});var s=i(3396),a=i(7139),r=i(9242);const c=t=>((0,s.dD)("data-v-54d93682"),t=t(),(0,s.Cn)(),t),l={class:"container py-lg-5"},o={"aria-label":"breadcrumb"},d={class:"breadcrumb"},n={class:"breadcrumb-item"},u=c((()=>(0,s._)("li",{class:"breadcrumb-item"},"產品列表",-1))),p=c((()=>(0,s._)("div",{class:"productlist text-center px-4 py-5"},[(0,s._)("div",{class:"text-white text-center p-3 cover d-inline-block"},[(0,s._)("h1",{class:"fw-bold my-3"},"產品列表"),(0,s._)("p",{class:"mb-0"},"「挑戰味覺極限，一口餅乾，一場美味革命。」")])],-1))),g={class:"row g-4 justify-content-around py-5"},h={class:"col-lg-2"},v={class:"text-center d-flex flex-column align-items-center"},b=["onClick"],m={class:"col-lg-9"},f={class:"row row-cols-lg-3 row-cols-sm-2 row-cols-1 g-4"},_={class:"card h-100 border cardHover"},y=["src","alt","title"],w={class:"card-body d-flex flex-column justify-content-between"},x={class:"d-flex justify-content-between align-items-center"},k={class:"card-title fw-bold text-primary mb-0"},C={class:"badge bg-warning rounded-pill text-black"},$=c((()=>(0,s._)("hr",null,null,-1))),L={class:"card-text"},D={class:"text-end"},F={key:0,class:"h5"},z={key:1,class:"h6"},I={key:2,class:"h5 text-danger"},S={class:"text-end position-relative",style:{"z-index":"3"}},P=["onClick"],j=c((()=>(0,s._)("i",{class:"bi bi-suit-heart"},null,-1))),M=[j],q=["disabled","onClick"],H=c((()=>(0,s._)("i",{class:"bi bi-cart3"},null,-1))),Z=[H],O=["onClick"],Y=c((()=>(0,s._)("p",null,"abcdefg",-1)));function J(t,e,i,c,j,H){const J=(0,s.up)("LoadingComp"),K=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(J,{active:j.isLoading},null,8,["active"]),(0,s._)("section",l,[(0,s._)("nav",o,[(0,s._)("ol",d,[(0,s._)("li",n,[(0,s.Wm)(K,{to:"/user","active-class":"link-dark"},{default:(0,s.w5)((()=>[(0,s.Uk)("首頁")])),_:1})]),u])]),p,(0,s._)("div",g,[(0,s._)("div",h,[(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(j.categoryList,(t=>((0,s.wg)(),(0,s.iD)("button",{type:"button",class:(0,a.C_)(["btn btn-primary border-0 link-light shadow-sm fw-bold m-2 py-3 fixed-width-button",{active:j.category===t.value}]),onClick:(0,r.iM)((e=>j.category=t.value),["prevent"]),key:t.value},(0,a.zw)(t.value),11,b)))),128))])]),(0,s._)("div",m,[(0,s._)("div",f,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(H.filterProducts,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col",key:e.id},[(0,s._)("div",_,[(0,s._)("img",{src:e.imageUrl,class:"card-img-top img-fluid",style:{"object-fit":"cover",height:"200px",cursor:"pointer"},alt:e.title,title:e.title},null,8,y),(0,s._)("div",w,[(0,s._)("div",null,[(0,s._)("div",x,[(0,s._)("h5",k,(0,a.zw)(e.title),1),(0,s._)("span",C,(0,a.zw)(e.category),1)]),$,(0,s._)("p",L,(0,a.zw)(e.description),1)]),(0,s._)("div",null,[(0,s._)("div",D,[e.price===e.origin_price?((0,s.wg)(),(0,s.iD)("p",F,(0,a.zw)(t.$formatFilters.currency(e.origin_price))+" 元 ",1)):(0,s.kq)("",!0),e.price!==e.origin_price?((0,s.wg)(),(0,s.iD)("del",z," 原價 "+(0,a.zw)(t.$formatFilters.currency(e.origin_price))+" 元 ",1)):(0,s.kq)("",!0),e.price!==e.origin_price?((0,s.wg)(),(0,s.iD)("p",I," 特價 "+(0,a.zw)(t.$formatFilters.currency(e.price))+" 元 ",1)):(0,s.kq)("",!0)]),(0,s._)("div",S,[(0,s._)("button",{type:"button",class:(0,a.C_)(["btn btn-primary mx-2 rounded-circle fs-4 text-white border-0",{active:j.favorite.includes(e.id)}]),style:{width:"50px",height:"50px"},onClick:t=>H.toggleFavorite(e)},M,10,P),(0,s._)("button",{type:"button",class:"btn btn-primary align-self-end rounded-circle fs-4 text-white border-0",style:{width:"50px",height:"50px"},disabled:j.status.loadingItem===e.id,onClick:t=>H.addCart(e,e.id)},Z,8,q)])]),(0,s._)("a",{href:"#",class:"stretched-link",onClick:(0,r.iM)((t=>H.getProduct(e.id)),["prevent"])},null,8,O)])])])))),128))])])])]),Y],64)}i(560);var K=i(4226),N={data(){return{products:[],isLoading:!1,categoryList:[{value:"全部"},{value:"馬卡龍"},{value:"造型餅乾"},{value:"可頌"}],category:"全部",status:{loadingItem:""},favorite:K.Z.getFavorite()||[]}},inject:["emitter"],methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/samtgy-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.products=t.data.products),this.isLoading=!1}))},getProduct(t){this.$router.push(`/user/product/${t}`)},addCart(t,e){const i="https://vue3-course-api.hexschool.io/api/samtgy-api/cart";this.isLoading=!0,this.status.loadingItem=e;const s={product_id:e,qty:1};this.$http.post(i,{data:s}).then((i=>{this.status.loadingItem="",this.emitter.emit("update-cart",e),this.isLoading=!1,this.$httpMessageState(i,`將"${t.title}"加入購物車`)}))},toggleFavorite(t){this.favorite.includes(t.id)?(this.favorite.splice(this.favorite.indexOf(t.id),1),this.$httpMessageState({data:{success:!0}},`已將"${t.title}"移除我的最愛`)):(this.favorite.push(t.id),this.$httpMessageState({data:{success:!0}},`已將"${t.title}"加入我的最愛`)),K.Z.addToFavorite(this.favorite),this.emitter.emit("update-favorite",this.favorite)}},computed:{filterProducts(){return this.products.filter((t=>"全部"===this.category?this.products:t.category.match(this.category)))}},created(){this.getProducts()}},T=i(89);const U=(0,T.Z)(N,[["render",J],["__scopeId","data-v-54d93682"]]);var W=U}}]);
//# sourceMappingURL=26.eb739f5d.js.map